{"mappings":"AAEA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,iBAClCC,oBAAqBF,SAASC,cAAc,aAC5CE,QAASH,SAASC,cAAc,WAChCG,SAAUJ,SAASC,cAAc,YAG7BF,UAAEM,EAASH,oBAAEI,EAAmBH,QAAEI,EAAOH,SAAEI,GAAaV,EAE9DU,EAASC,UAAUC,IAAI,aACvBL,EAAUI,UAAUC,IAAI,aAExBL,EAAUM,iBAAiB,UA0B3B,SAAqBC,GACnBN,EAAoBO,UAAY,KC5BTC,ED6BHF,EAAMG,OAAOC,MC5B1BC,MACL,qIAAoDH,aACpDI,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,KDwBrBL,MAAKM,IAKG,C,KAJMA,EAAI,GAAGC,OAAO,GAAGC,K,IAClBF,EAAI,GAAGG,I,YACCH,EAAI,GAAGC,OAAO,GAAGG,Y,YACjBJ,EAAI,GAAGC,OAAO,GAAGI,gBAGtCX,MAAKY,IACJxB,EAAoBO,UAAY,GAMtC,UAA6Ba,KAAEA,EAAIC,IAAEA,EAAGC,YAAEA,EAAWC,YAAEA,IACrDtB,EAAQE,UAAUsB,OAAO,aACzBC,YAAW,KACTzB,EAAQE,UAAUC,IAAI,aAEtBJ,EAAoBO,UAAY,cAAcc,WAAaD,6DAAgEA,mCAAsCE,2DAAqEC,aAAuB,GAC5P,I,CAXCI,CAAoBH,EAAK,IAE1BI,OAAM,IAAM1B,EAASC,UAAUsB,OAAO,eC1C3C,IAAyBjB,C,IARhBG,MAAM,qHAAoCC,MAAKC,IACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IDUrBL,MAAKiB,IACJ9B,EAAUI,UAAUsB,OAAO,aAC3BxB,EAAQE,UAAUC,IAAI,aAU5B,SAAuByB,GACrB,MAAMC,EAASD,EACZE,KAAIC,GACI,mBAAmBA,EAAQC,MAAMD,EAAQZ,mBAEjDc,KAAK,IACRnC,EAAUQ,UAAYuB,C,CAflBK,CAAcN,EAAS,IAExBD,OAAM,KACL7B,EAAUI,UAAUC,IAAI,aACxBF,EAASC,UAAUsB,OAAO,aAC1BxB,EAAQE,UAAUC,IAAI,YAAY","sources":["src/js/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst refs = {\n  selectRef: document.querySelector('.breed-select'),\n  articleConteinerRef: document.querySelector('.cat-info'),\n  loadRef: document.querySelector('.loader'),\n  errorRef: document.querySelector('.error'),\n};\n\nconst { selectRef, articleConteinerRef, loadRef, errorRef } = refs;\n\nerrorRef.classList.add('is-hidden');\nselectRef.classList.add('is-hidden');\n\nselectRef.addEventListener('change', onSelectCat);\nloadCatsInfo();\n\nfunction loadCatsInfo() {\n  fetchBreeds()\n    .then(catsInfo => {\n      selectRef.classList.remove('is-hidden');\n      loadRef.classList.add('is-hidden');\n      createOptions(catsInfo);\n    })\n    .catch(() => {\n      selectRef.classList.add('is-hidden');\n      errorRef.classList.remove('is-hidden');\n      loadRef.classList.add('is-hidden');\n    });\n}\n\nfunction createOptions(catsInfo) {\n  const murkup = catsInfo\n    .map(catInfo => {\n      return `<option value = ${catInfo.id}>${catInfo.name} </option>`;\n    })\n    .join('');\n  selectRef.innerHTML = murkup;\n}\n\nfunction onSelectCat(event) {\n  articleConteinerRef.innerHTML = ' ';\n  const selectedCat = event.target.value;\n  fetchCatByBreed(selectedCat)\n    .then(cat => {\n      const name = cat[0].breeds[0].name;\n      const url = cat[0].url;\n      const description = cat[0].breeds[0].description;\n      const temperament = cat[0].breeds[0].temperament;\n      return { name, url, description, temperament };\n    })\n    .then(data => {\n      articleConteinerRef.innerHTML = '';\n      createArticleMurcup(data);\n    })\n    .catch(() => errorRef.classList.remove('is-hidden'));\n}\n\nfunction createArticleMurcup({ name, url, description, temperament }) {\n  loadRef.classList.remove('is-hidden');\n  setTimeout(() => {\n    loadRef.classList.add('is-hidden');\n\n    articleConteinerRef.innerHTML = `<img src = ${url} alt = ${name} width='400' ><div class= \"conteiner\"><h1 class =\"name\"> ${name}</h1><p class =\"description\">  ${description}</p><p class =\"temperament\"> <span>Temperament:</span> ${temperament}</P></div>`;\n  }, 1000);\n}\n","export { fetchBreeds, fetchCatByBreed };\nconst API_KEY = `live_xgJbTp7HDySw1CIfSTFuu3jEoMUIvb2dpZqt0pkmAkb3BCQRTNCyGVNsaqN2MP7l`;\nconst URL = 'https://api.thecatapi.com/v1';\n\nfunction fetchBreeds() {\n  return fetch(`${URL}/breeds?api_key=${API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `${URL}/images/search?api_key=${API_KEY}&breed_id=${breedId}&limit=1`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n"],"names":["$85a5f86b715fe7db$var$refs","selectRef","document","querySelector","articleConteinerRef","loadRef","errorRef","$85a5f86b715fe7db$var$selectRef","$85a5f86b715fe7db$var$articleConteinerRef","$85a5f86b715fe7db$var$loadRef","$85a5f86b715fe7db$var$errorRef","classList","add","addEventListener","event","innerHTML","breedId","target","value","fetch","then","response","ok","Error","status","json","cat","breeds","name","url","description","temperament","data","remove","setTimeout","$85a5f86b715fe7db$var$createArticleMurcup","catch","catsInfo","murkup","map","catInfo","id","join","$85a5f86b715fe7db$var$createOptions"],"version":3,"file":"index.ef87972b.js.map"}